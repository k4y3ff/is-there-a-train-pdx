<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Is There a Train Blocking NW 9th & Naito?</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>
    <div class="container">
        <header>
            <h1>🚂 Train Status</h1>
            <p class="subtitle">NW 9th Ave & NW Naito Pkwy, Portland, OR</p>
            <nav class="main-nav">
                <a href="how-it-works.html" class="nav-link">🔍 How Does This Work?</a>
                <a href="coordinate-finder.html" class="nav-link">🗺️ Find Exact Coordinates</a>
                <a href="test-trimet.html" class="nav-link">🧪 Test TriMet API</a>
            </nav>
        </header>
        
        <main>
            <div class="status-card" id="statusCard">
                <div class="status-indicator" id="statusIndicator">
                    <div class="map-container">
                        <div id="map"></div>
                    </div>
                </div>
                <div class="last-updated" id="lastUpdated">
                    Last updated: <span id="updateTime">--</span>
                </div>
            </div>
            
            <div class="info-section">
                <h2>About This Intersection</h2>
                <p>This app monitors the railroad crossing at NW 9th Ave and NW Naito Pkwy in Portland's Pearl District. When trains pass through, they can block traffic for several minutes.</p>
                
                <div class="features">
                    <div class="feature">
                        <span class="feature-icon">📍</span>
                        <div>
                            <h3>Location</h3>
                            <p>NW 9th Ave & NW Naito Pkwy<br>Portland, OR 97209</p>
                        </div>
                    </div>
                    <div class="feature">
                        <span class="feature-icon">⏰</span>
                        <div>
                            <h3>Real-time Updates</h3>
                            <p>Status updates every 30 seconds</p>
                        </div>
                    </div>
                    <div class="feature">
                        <span class="feature-icon">🗺️</span>
                        <div>
                            <h3>Interactive Map</h3>
                            <p>Click the map to explore the area</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <footer>
            <p>Built for Portland commuters • <a href="#" onclick="refreshStatus()">Refresh Now</a></p>
        </footer>
    </div>
    
    <!-- Intersection Information Modal -->
    <div id="intersectionModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>🚂 NW 9th & Naito Intersection</h2>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="modal-section">
                    <h3>📍 Location</h3>
                    <p>NW 9th Avenue & NW Naito Parkway<br>
                    Portland, Oregon 97209</p>
                    <p><strong>Coordinates:</strong> 45.532533, -122.680120</p>
                </div>
                <div class="modal-section">
                    <h3>🚧 Train Crossing</h3>
                    <p>This intersection is crossed by Union Pacific Railroad tracks, 
                    which can block traffic for 5-15 minutes when freight trains pass through.</p>
                </div>
                <div class="modal-section">
                    <h3>⏰ Typical Train Times</h3>
                    <p>• Morning: 7:00 AM - 9:00 AM<br>
                    • Afternoon: 2:00 PM - 4:00 PM<br>
                    • Evening: 8:00 PM - 10:00 PM</p>
                </div>
                <div class="modal-section">
                    <h3>🚇 MAX Transit</h3>
                    <p>Nearby MAX stations:<br>
                    • Old Town/Chinatown (Red/Blue lines)<br>
                    • Skidmore Fountain (Red/Blue lines)</p>
                </div>
                <div class="modal-section">
                    <h3>🔄 Current Status</h3>
                    <p id="modal-status">UNKNOWN</p>
                    <button onclick="refreshStatus()" class="refresh-btn">Refresh Status</button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="config.js"></script>
    <script src="script.js"></script>
</body>
</html> 